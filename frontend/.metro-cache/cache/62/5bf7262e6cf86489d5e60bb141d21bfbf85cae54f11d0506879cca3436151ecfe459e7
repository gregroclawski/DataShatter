{"dependencies":[{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"../../model/index.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":56,"index":56}}],"key":"ecknVzcUu1YLgoWzPEOnNKr2bTY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"SegmentSequence\", {\n    enumerable: true,\n    get: function () {\n      return SegmentSequence;\n    }\n  });\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[0], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _modelIndexJs = require(_dependencyMap[2], \"../../model/index.js\");\n  var SegmentSequence = /*#__PURE__*/(0, _createClass.default)(function SegmentSequence(tcModel, options) {\n    (0, _classCallCheck.default)(this, SegmentSequence);\n    this['1'] = [_modelIndexJs.Segment.CORE];\n    this['2'] = [_modelIndexJs.Segment.CORE];\n    if (tcModel.version === 2) {\n      if (tcModel.isServiceSpecific) {\n        /**\n         * If it's service specific only, then the publisher TC String can be\n         * stored in the cookie and would be transmitted if it's not for\n         * storage.  So it's included regardless of whether or not it's for\n         * saving or the cmp api to surface.\n         */\n        this['2'].push(_modelIndexJs.Segment.PUBLISHER_TC);\n      } else {\n        var isForVendors = !!(options && options.isForVendors);\n        /**\n         * including vendors disclosed only if it is for saving (to the global\n         * scope and not for vendors through the CMP API) or supportOOB is\n         * turned on (either or both).  The compliment of this being not for\n         * saving (surfaced to CMP) and no support of OOB.\n         */\n        if (!isForVendors || tcModel[_modelIndexJs.Fields.supportOOB] === true) {\n          this['2'].push(_modelIndexJs.Segment.VENDORS_DISCLOSED);\n        }\n        if (isForVendors) {\n          /**\n           * If a publisher does support OOB and they have narrowed the allowed\n           * vendors to utilize it, then we should include the vendors allowed\n           * segment.  If it is empty then there are no restrictions, if that\n           * is intended to mean no support for OOB, then the flag should be\n           * set for that instead.\n           *\n           */\n          if (tcModel[_modelIndexJs.Fields.supportOOB] && tcModel[_modelIndexJs.Fields.vendorsAllowed].size > 0) {\n            this['2'].push(_modelIndexJs.Segment.VENDORS_ALLOWED);\n          }\n          /**\n           * Always include the publisher TC segment as long as this TC string\n           * is not intended to be saved in the global scope.\n           */\n          this['2'].push(_modelIndexJs.Segment.PUBLISHER_TC);\n        }\n      }\n    }\n  });\n});","lineCount":68,"map":[[12,2,2,0,"Object"],[12,8,2,0],[12,9,2,0,"defineProperty"],[12,23,2,0],[12,24,2,0,"exports"],[12,31,2,0],[13,4,2,0,"enumerable"],[13,14,2,0],[14,4,2,0,"get"],[14,7,2,0],[14,18,2,0,"get"],[14,19,2,0],[15,6,2,0],[15,13,2,0,"SegmentSequence"],[15,28,2,0],[16,4,2,0],[17,2,2,0],[18,2,52,1],[18,6,52,1,"_babelRuntimeHelpersCreateClass"],[18,37,52,1],[18,40,52,1,"require"],[18,47,52,1],[18,48,52,1,"_dependencyMap"],[18,62,52,1],[19,2,52,1],[19,6,52,1,"_createClass"],[19,18,52,1],[19,21,52,1,"_interopDefault"],[19,36,52,1],[19,37,52,1,"_babelRuntimeHelpersCreateClass"],[19,68,52,1],[20,2,52,1],[20,6,52,1,"_babelRuntimeHelpersClassCallCheck"],[20,40,52,1],[20,43,52,1,"require"],[20,50,52,1],[20,51,52,1,"_dependencyMap"],[20,65,52,1],[21,2,52,1],[21,6,52,1,"_classCallCheck"],[21,21,52,1],[21,24,52,1,"_interopDefault"],[21,39,52,1],[21,40,52,1,"_babelRuntimeHelpersClassCallCheck"],[21,74,52,1],[22,2,1,0],[22,6,1,0,"_modelIndexJs"],[22,19,1,0],[22,22,1,0,"require"],[22,29,1,0],[22,30,1,0,"_dependencyMap"],[22,44,1,0],[23,2,1,56],[23,6,2,13,"SegmentSequence"],[23,21,2,28],[23,41,2,28,"_createClass"],[23,53,2,28],[23,54,2,28,"default"],[23,61,2,28],[23,63,9,4],[23,72,9,4,"SegmentSequence"],[23,88,9,16,"tcModel"],[23,95,9,23],[23,97,9,25,"options"],[23,104,9,32],[23,106,9,34],[24,4,9,34],[24,8,9,34,"_classCallCheck"],[24,23,9,34],[24,24,9,34,"default"],[24,31,9,34],[24,39,9,34,"SegmentSequence"],[24,54,9,34],[25,4,9,34],[25,9,3,4],[25,12,3,7],[25,16,3,10],[25,17,4,8,"Segment"],[25,30,4,15],[25,31,4,15,"Segment"],[25,38,4,15],[25,39,4,16,"CORE"],[25,43,4,20],[25,44,5,5],[26,4,5,5],[26,9,6,4],[26,12,6,7],[26,16,6,10],[26,17,7,8,"Segment"],[26,30,7,15],[26,31,7,15,"Segment"],[26,38,7,15],[26,39,7,16,"CORE"],[26,43,7,20],[26,44,8,5],[27,4,10,8],[27,8,10,12,"tcModel"],[27,15,10,19],[27,16,10,20,"version"],[27,23,10,27],[27,28,10,32],[27,29,10,33],[27,31,10,35],[28,6,11,12],[28,10,11,16,"tcModel"],[28,17,11,23],[28,18,11,24,"isServiceSpecific"],[28,35,11,41],[28,37,11,43],[29,8,12,16],[30,0,13,0],[31,0,14,0],[32,0,15,0],[33,0,16,0],[34,0,17,0],[35,8,18,16],[35,12,18,20],[35,13,18,21],[35,16,18,24],[35,17,18,25],[35,18,18,26,"push"],[35,22,18,30],[35,23,18,31,"Segment"],[35,36,18,38],[35,37,18,38,"Segment"],[35,44,18,38],[35,45,18,39,"PUBLISHER_TC"],[35,57,18,51],[35,58,18,52],[36,6,19,12],[36,7,19,13],[36,13,20,17],[37,8,21,16],[37,12,21,22,"isForVendors"],[37,24,21,34],[37,27,21,37],[37,28,21,38],[37,30,21,40,"options"],[37,37,21,47],[37,41,21,51,"options"],[37,48,21,58],[37,49,21,59,"isForVendors"],[37,61,21,71],[37,62,21,72],[38,8,22,16],[39,0,23,0],[40,0,24,0],[41,0,25,0],[42,0,26,0],[43,0,27,0],[44,8,28,16],[44,12,28,20],[44,13,28,21,"isForVendors"],[44,25,28,33],[44,29,28,37,"tcModel"],[44,36,28,44],[44,37,28,45,"Fields"],[44,50,28,51],[44,51,28,51,"Fields"],[44,57,28,51],[44,58,28,52,"supportOOB"],[44,68,28,62],[44,69,28,63],[44,74,28,68],[44,78,28,72],[44,80,28,74],[45,10,29,20],[45,14,29,24],[45,15,29,25],[45,18,29,28],[45,19,29,29],[45,20,29,30,"push"],[45,24,29,34],[45,25,29,35,"Segment"],[45,38,29,42],[45,39,29,42,"Segment"],[45,46,29,42],[45,47,29,43,"VENDORS_DISCLOSED"],[45,64,29,60],[45,65,29,61],[46,8,30,16],[47,8,31,16],[47,12,31,20,"isForVendors"],[47,24,31,32],[47,26,31,34],[48,10,32,20],[49,0,33,0],[50,0,34,0],[51,0,35,0],[52,0,36,0],[53,0,37,0],[54,0,38,0],[55,0,39,0],[56,10,40,20],[56,14,40,24,"tcModel"],[56,21,40,31],[56,22,40,32,"Fields"],[56,35,40,38],[56,36,40,38,"Fields"],[56,42,40,38],[56,43,40,39,"supportOOB"],[56,53,40,49],[56,54,40,50],[56,58,40,54,"tcModel"],[56,65,40,61],[56,66,40,62,"Fields"],[56,79,40,68],[56,80,40,68,"Fields"],[56,86,40,68],[56,87,40,69,"vendorsAllowed"],[56,101,40,83],[56,102,40,84],[56,103,40,85,"size"],[56,107,40,89],[56,110,40,92],[56,111,40,93],[56,113,40,95],[57,12,41,24],[57,16,41,28],[57,17,41,29],[57,20,41,32],[57,21,41,33],[57,22,41,34,"push"],[57,26,41,38],[57,27,41,39,"Segment"],[57,40,41,46],[57,41,41,46,"Segment"],[57,48,41,46],[57,49,41,47,"VENDORS_ALLOWED"],[57,64,41,62],[57,65,41,63],[58,10,42,20],[59,10,43,20],[60,0,44,0],[61,0,45,0],[62,0,46,0],[63,10,47,20],[63,14,47,24],[63,15,47,25],[63,18,47,28],[63,19,47,29],[63,20,47,30,"push"],[63,24,47,34],[63,25,47,35,"Segment"],[63,38,47,42],[63,39,47,42,"Segment"],[63,46,47,42],[63,47,47,43,"PUBLISHER_TC"],[63,59,47,55],[63,60,47,56],[64,8,48,16],[65,6,49,12],[66,4,50,8],[67,2,51,4],[67,3,51,5],[68,0,51,5],[68,3]],"functionMap":{"names":["<global>","SegmentSequence","constructor"],"mappings":"AAA;OCC;ICO;KD0C;CDC"},"hasCjsExports":false},"type":"js/module"}]}