{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"yg7e6laZwmpbIvId5jovq9ugXp8=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"Z6pzkVZ2fvxBLkFTgVVOy4UDj30=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"Json\", {\n    enumerable: true,\n    get: function () {\n      return Json;\n    }\n  });\n  var _babelRuntimeHelpersClassCallCheck = require(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n  var _classCallCheck = _interopDefault(_babelRuntimeHelpersClassCallCheck);\n  var _babelRuntimeHelpersCreateClass = require(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n  var _createClass = _interopDefault(_babelRuntimeHelpersCreateClass);\n  var Json = /*#__PURE__*/function () {\n    function Json() {\n      (0, _classCallCheck.default)(this, Json);\n    }\n    return (0, _createClass.default)(Json, null, [{\n      key: \"absCall\",\n      value: function absCall(url, body, sendCookies, timeout) {\n        return new Promise((resolve, reject) => {\n          var req = new XMLHttpRequest();\n          var onLoad = () => {\n            // is the response done\n            if (req.readyState == XMLHttpRequest.DONE) {\n              /**\n               * For our purposes if it's not a 200 range response, then it's a\n               * failure.\n               */\n              if (req.status >= 200 && req.status < 300) {\n                var response = req.response;\n                if (typeof response === 'string') {\n                  try {\n                    response = JSON.parse(response);\n                  } catch (e) {}\n                }\n                resolve(response);\n              } else {\n                reject(new Error(`HTTP Status: ${req.status} response type: ${req.responseType}`));\n              }\n            }\n          };\n          var onError = () => {\n            reject(new Error('error'));\n          };\n          var onAbort = () => {\n            reject(new Error('aborted'));\n          };\n          var onTimeout = () => {\n            reject(new Error('Timeout ' + timeout + 'ms ' + url));\n          };\n          req.withCredentials = sendCookies;\n          req.addEventListener('load', onLoad);\n          req.addEventListener('error', onError);\n          req.addEventListener('abort', onAbort);\n          if (body === null) {\n            req.open('GET', url, true);\n          } else {\n            req.open('POST', url, true);\n          }\n          req.responseType = 'json';\n          // IE has a problem if this is before the open\n          req.timeout = timeout;\n          req.ontimeout = onTimeout;\n          req.send(body);\n        });\n      }\n      /**\n       * @static\n       * @param {string} url - full path to POST to\n       * @param {object} body - JSON object to post\n       * @param {boolean} sendCookies - Whether or not to send the XMLHttpRequest with credentials or not\n       * @param {number} [timeout] - optional timeout in milliseconds\n       * @return {Promise<object>} - if the server responds the response will be returned here\n       */\n    }, {\n      key: \"post\",\n      value: function post(url, body) {\n        var sendCookies = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n        var timeout = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        return this.absCall(url, JSON.stringify(body), sendCookies, timeout);\n      }\n      /**\n       * @static\n       * @param {string} url - full path to the json\n       * @param {boolean} sendCookies - Whether or not to send the XMLHttpRequest with credentials or not\n       * @param {number} [timeout] - optional timeout in milliseconds\n       * @return {Promise<object>} - resolves with parsed JSON\n       */\n    }, {\n      key: \"fetch\",\n      value: function fetch(url) {\n        var sendCookies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n        var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        return this.absCall(url, null, sendCookies, timeout);\n      }\n    }]);\n  }();\n});","lineCount":107,"map":[[12,2,1,0,"Object"],[12,8,1,0],[12,9,1,0,"defineProperty"],[12,23,1,0],[12,24,1,0,"exports"],[12,31,1,0],[13,4,1,0,"enumerable"],[13,14,1,0],[14,4,1,0,"get"],[14,7,1,0],[14,18,1,0,"get"],[14,19,1,0],[15,6,1,0],[15,13,1,0,"Json"],[15,17,1,0],[16,4,1,0],[17,2,1,0],[18,2,74,1],[18,6,74,1,"_babelRuntimeHelpersClassCallCheck"],[18,40,74,1],[18,43,74,1,"require"],[18,50,74,1],[18,51,74,1,"_dependencyMap"],[18,65,74,1],[19,2,74,1],[19,6,74,1,"_classCallCheck"],[19,21,74,1],[19,24,74,1,"_interopDefault"],[19,39,74,1],[19,40,74,1,"_babelRuntimeHelpersClassCallCheck"],[19,74,74,1],[20,2,74,1],[20,6,74,1,"_babelRuntimeHelpersCreateClass"],[20,37,74,1],[20,40,74,1,"require"],[20,47,74,1],[20,48,74,1,"_dependencyMap"],[20,62,74,1],[21,2,74,1],[21,6,74,1,"_createClass"],[21,18,74,1],[21,21,74,1,"_interopDefault"],[21,36,74,1],[21,37,74,1,"_babelRuntimeHelpersCreateClass"],[21,68,74,1],[22,2,74,1],[22,6,1,13,"Json"],[22,10,1,17],[23,4,1,17],[23,13,1,17,"Json"],[23,18,1,17],[24,6,1,17],[24,10,1,17,"_classCallCheck"],[24,25,1,17],[24,26,1,17,"default"],[24,33,1,17],[24,41,1,17,"Json"],[24,45,1,17],[25,4,1,17],[26,4,1,17],[26,15,1,17,"_createClass"],[26,27,1,17],[26,28,1,17,"default"],[26,35,1,17],[26,37,1,17,"Json"],[26,41,1,17],[27,6,1,17,"key"],[27,9,1,17],[28,6,1,17,"value"],[28,11,1,17],[28,13,2,4],[28,22,2,11,"absCall"],[28,29,2,18,"absCall"],[28,30,2,19,"url"],[28,33,2,22],[28,35,2,24,"body"],[28,39,2,28],[28,41,2,30,"sendCookies"],[28,52,2,41],[28,54,2,43,"timeout"],[28,61,2,50],[28,63,2,52],[29,8,3,8],[29,15,3,15],[29,19,3,19,"Promise"],[29,26,3,26],[29,27,3,27],[29,28,3,28,"resolve"],[29,35,3,35],[29,37,3,37,"reject"],[29,43,3,43],[29,48,3,48],[30,10,4,12],[30,14,4,18,"req"],[30,17,4,21],[30,20,4,24],[30,24,4,28,"XMLHttpRequest"],[30,38,4,42],[30,39,4,43],[30,40,4,44],[31,10,5,12],[31,14,5,18,"onLoad"],[31,20,5,24],[31,23,5,27,"onLoad"],[31,24,5,27],[31,29,5,33],[32,12,6,16],[33,12,7,16],[33,16,7,20,"req"],[33,19,7,23],[33,20,7,24,"readyState"],[33,30,7,34],[33,34,7,38,"XMLHttpRequest"],[33,48,7,52],[33,49,7,53,"DONE"],[33,53,7,57],[33,55,7,59],[34,14,8,20],[35,0,9,0],[36,0,10,0],[37,0,11,0],[38,14,12,20],[38,18,12,24,"req"],[38,21,12,27],[38,22,12,28,"status"],[38,28,12,34],[38,32,12,38],[38,35,12,41],[38,39,12,45,"req"],[38,42,12,48],[38,43,12,49,"status"],[38,49,12,55],[38,52,12,58],[38,55,12,61],[38,57,12,63],[39,16,13,24],[39,20,13,28,"response"],[39,28,13,36],[39,31,13,39,"req"],[39,34,13,42],[39,35,13,43,"response"],[39,43,13,51],[40,16,14,24],[40,20,14,28],[40,27,14,35,"response"],[40,35,14,43],[40,40,14,48],[40,48,14,56],[40,50,14,58],[41,18,15,28],[41,22,15,32],[42,20,16,32,"response"],[42,28,16,40],[42,31,16,43,"JSON"],[42,35,16,47],[42,36,16,48,"parse"],[42,41,16,53],[42,42,16,54,"response"],[42,50,16,62],[42,51,16,63],[43,18,17,28],[43,19,17,29],[43,20,18,28],[43,27,18,35,"e"],[43,28,18,36],[43,30,18,38],[43,31,18,40],[44,16,19,24],[45,16,20,24,"resolve"],[45,23,20,31],[45,24,20,32,"response"],[45,32,20,40],[45,33,20,41],[46,14,21,20],[46,15,21,21],[46,21,22,25],[47,16,23,24,"reject"],[47,22,23,30],[47,23,23,31],[47,27,23,35,"Error"],[47,32,23,40],[47,33,23,41],[47,49,23,57,"req"],[47,52,23,60],[47,53,23,61,"status"],[47,59,23,67],[47,78,23,86,"req"],[47,81,23,89],[47,82,23,90,"responseType"],[47,94,23,102],[47,96,23,104],[47,97,23,105],[47,98,23,106],[48,14,24,20],[49,12,25,16],[50,10,26,12],[50,11,26,13],[51,10,27,12],[51,14,27,18,"onError"],[51,21,27,25],[51,24,27,28,"onError"],[51,25,27,28],[51,30,27,34],[52,12,28,16,"reject"],[52,18,28,22],[52,19,28,23],[52,23,28,27,"Error"],[52,28,28,32],[52,29,28,33],[52,36,28,40],[52,37,28,41],[52,38,28,42],[53,10,29,12],[53,11,29,13],[54,10,30,12],[54,14,30,18,"onAbort"],[54,21,30,25],[54,24,30,28,"onAbort"],[54,25,30,28],[54,30,30,34],[55,12,31,16,"reject"],[55,18,31,22],[55,19,31,23],[55,23,31,27,"Error"],[55,28,31,32],[55,29,31,33],[55,38,31,42],[55,39,31,43],[55,40,31,44],[56,10,32,12],[56,11,32,13],[57,10,33,12],[57,14,33,18,"onTimeout"],[57,23,33,27],[57,26,33,30,"onTimeout"],[57,27,33,30],[57,32,33,36],[58,12,34,16,"reject"],[58,18,34,22],[58,19,34,23],[58,23,34,27,"Error"],[58,28,34,32],[58,29,34,33],[58,39,34,43],[58,42,34,46,"timeout"],[58,49,34,53],[58,52,34,56],[58,57,34,61],[58,60,34,64,"url"],[58,63,34,67],[58,64,34,68],[58,65,34,69],[59,10,35,12],[59,11,35,13],[60,10,36,12,"req"],[60,13,36,15],[60,14,36,16,"withCredentials"],[60,29,36,31],[60,32,36,34,"sendCookies"],[60,43,36,45],[61,10,37,12,"req"],[61,13,37,15],[61,14,37,16,"addEventListener"],[61,30,37,32],[61,31,37,33],[61,37,37,39],[61,39,37,41,"onLoad"],[61,45,37,47],[61,46,37,48],[62,10,38,12,"req"],[62,13,38,15],[62,14,38,16,"addEventListener"],[62,30,38,32],[62,31,38,33],[62,38,38,40],[62,40,38,42,"onError"],[62,47,38,49],[62,48,38,50],[63,10,39,12,"req"],[63,13,39,15],[63,14,39,16,"addEventListener"],[63,30,39,32],[63,31,39,33],[63,38,39,40],[63,40,39,42,"onAbort"],[63,47,39,49],[63,48,39,50],[64,10,40,12],[64,14,40,16,"body"],[64,18,40,20],[64,23,40,25],[64,27,40,29],[64,29,40,31],[65,12,41,16,"req"],[65,15,41,19],[65,16,41,20,"open"],[65,20,41,24],[65,21,41,25],[65,26,41,30],[65,28,41,32,"url"],[65,31,41,35],[65,33,41,37],[65,37,41,41],[65,38,41,42],[66,10,42,12],[66,11,42,13],[66,17,43,17],[67,12,44,16,"req"],[67,15,44,19],[67,16,44,20,"open"],[67,20,44,24],[67,21,44,25],[67,27,44,31],[67,29,44,33,"url"],[67,32,44,36],[67,34,44,38],[67,38,44,42],[67,39,44,43],[68,10,45,12],[69,10,46,12,"req"],[69,13,46,15],[69,14,46,16,"responseType"],[69,26,46,28],[69,29,46,31],[69,35,46,37],[70,10,47,12],[71,10,48,12,"req"],[71,13,48,15],[71,14,48,16,"timeout"],[71,21,48,23],[71,24,48,26,"timeout"],[71,31,48,33],[72,10,49,12,"req"],[72,13,49,15],[72,14,49,16,"ontimeout"],[72,23,49,25],[72,26,49,28,"onTimeout"],[72,35,49,37],[73,10,50,12,"req"],[73,13,50,15],[73,14,50,16,"send"],[73,18,50,20],[73,19,50,21,"body"],[73,23,50,25],[73,24,50,26],[74,8,51,8],[74,9,51,9],[74,10,51,10],[75,6,52,4],[76,6,53,4],[77,0,54,0],[78,0,55,0],[79,0,56,0],[80,0,57,0],[81,0,58,0],[82,0,59,0],[83,0,60,0],[84,4,53,4],[85,6,53,4,"key"],[85,9,53,4],[86,6,53,4,"value"],[86,11,53,4],[86,13,61,4],[86,22,61,11,"post"],[86,26,61,15,"post"],[86,27,61,16,"url"],[86,30,61,19],[86,32,61,21,"body"],[86,36,61,25],[86,38,61,61],[87,8,61,61],[87,12,61,27,"sendCookies"],[87,23,61,38],[87,26,61,38,"arguments"],[87,35,61,38],[87,36,61,38,"length"],[87,42,61,38],[87,50,61,38,"arguments"],[87,59,61,38],[87,67,61,38,"undefined"],[87,76,61,38],[87,79,61,38,"arguments"],[87,88,61,38],[87,94,61,41],[87,99,61,46],[88,8,61,46],[88,12,61,48,"timeout"],[88,19,61,55],[88,22,61,55,"arguments"],[88,31,61,55],[88,32,61,55,"length"],[88,38,61,55],[88,46,61,55,"arguments"],[88,55,61,55],[88,63,61,55,"undefined"],[88,72,61,55],[88,75,61,55,"arguments"],[88,84,61,55],[88,90,61,58],[88,91,61,59],[89,8,62,8],[89,15,62,15],[89,19,62,19],[89,20,62,20,"absCall"],[89,27,62,27],[89,28,62,28,"url"],[89,31,62,31],[89,33,62,33,"JSON"],[89,37,62,37],[89,38,62,38,"stringify"],[89,47,62,47],[89,48,62,48,"body"],[89,52,62,52],[89,53,62,53],[89,55,62,55,"sendCookies"],[89,66,62,66],[89,68,62,68,"timeout"],[89,75,62,75],[89,76,62,76],[90,6,63,4],[91,6,64,4],[92,0,65,0],[93,0,66,0],[94,0,67,0],[95,0,68,0],[96,0,69,0],[97,0,70,0],[98,4,64,4],[99,6,64,4,"key"],[99,9,64,4],[100,6,64,4,"value"],[100,11,64,4],[100,13,71,4],[100,22,71,11,"fetch"],[100,27,71,16,"fetch"],[100,28,71,17,"url"],[100,31,71,20],[100,33,71,56],[101,8,71,56],[101,12,71,22,"sendCookies"],[101,23,71,33],[101,26,71,33,"arguments"],[101,35,71,33],[101,36,71,33,"length"],[101,42,71,33],[101,50,71,33,"arguments"],[101,59,71,33],[101,67,71,33,"undefined"],[101,76,71,33],[101,79,71,33,"arguments"],[101,88,71,33],[101,94,71,36],[101,99,71,41],[102,8,71,41],[102,12,71,43,"timeout"],[102,19,71,50],[102,22,71,50,"arguments"],[102,31,71,50],[102,32,71,50,"length"],[102,38,71,50],[102,46,71,50,"arguments"],[102,55,71,50],[102,63,71,50,"undefined"],[102,72,71,50],[102,75,71,50,"arguments"],[102,84,71,50],[102,90,71,53],[102,91,71,54],[103,8,72,8],[103,15,72,15],[103,19,72,19],[103,20,72,20,"absCall"],[103,27,72,27],[103,28,72,28,"url"],[103,31,72,31],[103,33,72,33],[103,37,72,37],[103,39,72,39,"sendCookies"],[103,50,72,50],[103,52,72,52,"timeout"],[103,59,72,59],[103,60,72,60],[104,6,73,4],[105,4,73,5],[106,2,73,5],[107,0,73,5],[107,3]],"functionMap":{"names":["<global>","Json","absCall","Promise$argument_0","onLoad","onError","onAbort","onTimeout","post","fetch"],"mappings":"AAA,OC;ICC;2BCC;2BCE;aDqB;4BEC;aFE;4BGC;aHE;8BIC;aJE;SDgB;KDC;IOS;KPE;IQQ;KRE;CDC"},"hasCjsExports":false},"type":"js/module"}]}